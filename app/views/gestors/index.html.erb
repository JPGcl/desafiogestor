<p style="color: green"><%= notice %></p>

<h2>Gestor de proyectos</h2>
<div class="input-group mb-3">
   <form class="form-inline">
    <div class="input-group-text p-0">
        <select name="search" class="form-select form-select-lg shadow-none bg-light border-0" onchange="this.form.submit()">
            <option selected disabled hidden>Filtrar estado</option>
            <option value="*">Todos</option>
            <option value="Propuesto">Propuesto</option>
            <option value="En Progreso">En Progreso</option>
            <option value="Terminado">Terminado</option>
        </select>
    </div>
   </form>
</div>

<!--
<nav class="navbar navbar-light bg-light">
 <a class="navbar-brand"></a>
   <form class="form-inline">
      <select class="form-select" name="search" id="">
        <option value="">Todos</option>
        <option value="Propuesto">Propuesto</option>
        <option value="En Progreso">En Progreso</option>
        <option value="Terminado">Terminado</option>
      </select>
      <button type="submit">
        <i class="fa-solid fa-magnifying-glass"></i>
      </button>
   </form>
</nav>
-->
<div id="gestors" class="table-responsive">
    <table class="table table-sm table-hover table-striped table-dark">
      <thead>
        <tr>
          <th scope="col">Proyecto
            <%= link_to new_gestor_path, style: "text-decoration: none;"  do %>  
              &nbsp;<i class="fa-solid fa-circle-plus"></i>
            <% end %>
          </th>
          <th scope="col">Descripción</th>
          <th scope="col">Fecha inicio</th>
          <th scope="col">Fecha término</th>
          <th scope="col">Estado</th>
          <th scope="col"></th>
          <th scope="col">Acción</th>
          <th scope="col"></th>
        </tr>
      </thead>

      <tbody>
        <% if @gestors.count > 0 %>
          <% @gestors.each do |gestor| %>
            <tr>
              <td scope="row"><%= gestor.nombre %></td>
              <td scope="row"><%= gestor.descripcion %></td>
              <td scope="row"><%= gestor.fechacom %></td>
              <td scope="row"><%= gestor.fechater %></td>
              <td scope="row"><%= gestor.estado %></td>
              <td scope="row" class="col-auto">
                <%= link_to gestor, class: "btn" do %>
                  <i class="fa-solid fa-eye text-success"></i>
                <% end %>
              </td>
              <td scope="row" class="col-auto">
                <%= link_to edit_gestor_path(gestor), class: "btn" do %>
                  <i class="fa-solid fa-pen-to-square text-warning"></i>
                <% end %>
              </td>
              <td scope="row" class="col-auto">
                <%= button_to gestor, method: :delete, class: "btn" do %>
                  <i class="fa-solid fa-trash-can text-danger" style="text-decoration: none;"></i>
                <% end %>
              </td>
            </tr>
          <% end %>
        <% else %>
          <h1>No hay resultados para el filtro.</h1>
        <% end %>
      </tbody>
    </table>
</div>
